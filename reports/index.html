<!DOCTYPE html>
<html lang="en">
<script src="../assets/js/database.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PVTAIR - Reports Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2C2C2C 0%, #4A4A4A 30%, #666666 70%, #A8A8A8 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            border: 1px solid rgba(168, 168, 168, 0.3);
        }
        
        .header {
            background: linear-gradient(135deg, #1A1A1A 0%, #333333 50%, #4A4A4A 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
        }
        
        .company-name {
            color: #A8A8A8;
            font-size: 2.8em;
            font-weight: 300;
            margin-bottom: 8px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
            letter-spacing: 6px;
            font-family: 'Arial', sans-serif;
        }
        
        .header h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
            font-weight: 600;
            letter-spacing: 1px;
            color: white;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            font-weight: 300;
            color: #CCCCCC;
        }
        
        .content {
            padding: 30px;
            background: linear-gradient(135deg, #FAFAFA, #F8FAFC);
        }
        
        .controls-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-weight: 600;
            color: #1E293B;
            margin-bottom: 8px;
            font-size: 1em;
        }
        
        select, input {
            padding: 12px 15px;
            border: 2px solid #E2E8F0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #7C3AED;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }
        
        .btn {
            background: linear-gradient(135deg, #1A1A1A, #333333);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 5px 0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #7C3AED, #8B5CF6);
        }
        
        .btn-primary:hover {
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #059669, #10B981);
        }
        
        .btn-success:hover {
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.4);
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #FFFFFF, #F8FAFC);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid #E2E8F0;
            transition: all 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .card-title {
            font-size: 0.9em;
            color: #64748B;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        .card-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #1E293B;
            margin-bottom: 5px;
        }
        
        .card-subtitle {
            font-size: 0.85em;
            color: #64748B;
        }
        
        .payroll-card .card-value {
            color: #059669;
        }
        
        .hours-card .card-value {
            color: #7C3AED;
        }
        
        .employees-card .card-value {
            color: #DC2626;
        }
        
        .reports-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .report-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .report-header {
            background: linear-gradient(135deg, #F1F5F9, #E2E8F0);
            padding: 20px 25px;
            border-bottom: 2px solid #E2E8F0;
        }
        
        .report-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #1E293B;
            margin-bottom: 5px;
        }
        
        .report-subtitle {
            color: #64748B;
            font-size: 0.95em;
        }
        
        .report-content {
            padding: 25px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .employee-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #F1F5F9;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .employee-row:hover {
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
        }
        
        .employee-row.header {
            background: linear-gradient(135deg, #E2E8F0, #CBD5E1);
            font-weight: bold;
            color: #1E293B;
            border-bottom: 2px solid #94A3B8;
        }
        
        .employee-name {
            font-weight: 600;
            color: #1E293B;
        }
        
        .employee-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            text-align: center;
        }
        
        .status-submitted {
            background: linear-gradient(135deg, #D1FAE5, #A7F3D0);
            color: #065F46;
        }
        
        .status-pending {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            color: #92400E;
        }
        
        .status-overdue {
            background: linear-gradient(135deg, #FEE2E2, #FECACA);
            color: #991B1B;
        }
        
        .quick-actions {
            background: linear-gradient(135deg, #E0E7FF, #C7D2FE);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #A5B4FC;
        }
        
        .actions-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #3730A3;
            margin-bottom: 15px;
        }
        
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .detailed-report {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .detailed-report-content {
            padding: 25px;
        }
        
        .pay-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .breakdown-item {
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #E2E8F0;
        }
        
        .breakdown-label {
            font-size: 0.85em;
            color: #64748B;
            margin-bottom: 5px;
        }
        
        .breakdown-value {
            font-size: 1.1em;
            font-weight: bold;
            color: #1E293B;
        }
        
        .breakdown-rate {
            font-size: 0.75em;
            color: #94A3B8;
        }
        
        .export-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            border-top: 2px solid #E2E8F0;
        }
        
        .alert {
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 500;
        }
        
        .alert-info {
            background: linear-gradient(135deg, #DBEAFE, #BFDBFE);
            color: #1E40AF;
            border: 2px solid #BFDBFE;
        }
        
        .alert-success {
            background: linear-gradient(135deg, #D1FAE5, #A7F3D0);
            color: #065F46;
            border: 2px solid #A7F3D0;
        }
        
        @media (max-width: 768px) {
            .reports-grid {
                grid-template-columns: 1fr;
            }
            
            .employee-row {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .controls-section {
                grid-template-columns: 1fr;
            }
            
            .summary-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }
            
            .company-name {
                font-size: 2.2em;
            }
        }
        
        @media (max-width: 480px) {
            .summary-cards {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="company-name">PVTAIR</div>
            <h1>Reports Dashboard</h1>
            <p>Real-time Hours Tracking & Payroll Management</p>
        </div>
        
        <div class="content">
            <!-- Controls Section -->
            <div class="controls-section">
                <div class="control-group">
                    <label for="reportPeriod">Report Period</label>
                    <select id="reportPeriod" onchange="updateReports()">
                        <option value="current-week">Current Week</option>
                        <option value="last-week">Last Week</option>
                        <option value="current-month">Current Month</option>
                        <option value="last-month">Last Month</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="employeeFilter">Employee Filter</label>
                    <select id="employeeFilter" onchange="updateReports()">
                        <option value="all">All Employees</option>
                        <option value="active">Active Only</option>
                        <option value="submitted">Submitted Timecards</option>
                        <option value="pending">Pending Timecards</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="customDate">Custom Date Range</label>
                    <input type="date" id="customStartDate" onchange="updateReports()">
                    <input type="date" id="customEndDate" onchange="updateReports()" style="margin-top: 10px;">
                </div>
                
                <div class="control-group">
                    <label>&nbsp;</label>
                    <button class="btn btn-primary" onclick="updateReports()">🔄 Refresh Reports</button>
                    <button class="btn btn-success" onclick="exportReports()">📊 Export Data</button>
                </div>
            </div>
            
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card payroll-card">
                    <div class="card-title">Total Payroll</div>
                    <div class="card-value" id="totalPayroll">$0.00</div>
                    <div class="card-subtitle">Current period</div>
                </div>
                
                <div class="summary-card hours-card">
                    <div class="card-title">Total Hours</div>
                    <div class="card-value" id="totalHours">0.0</div>
                    <div class="card-subtitle">All categories</div>
                </div>
                
                <div class="summary-card employees-card">
                    <div class="card-title">Active Employees</div>
                    <div class="card-value" id="activeEmployees">0</div>
                    <div class="card-subtitle">This period</div>
                </div>
                
                <div class="summary-card">
                    <div class="card-title">Avg Hours/Employee</div>
                    <div class="card-value" id="avgHours">0.0</div>
                    <div class="card-subtitle">Per employee</div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="actions-title">Quick Actions</div>
                <div class="actions-grid">
                    <button class="btn btn-primary" onclick="generatePayrollReport()">💰 Generate Payroll Report</button>
                    <button class="btn btn-primary" onclick="sendReminders()">📧 Send Timecard Reminders</button>
                    <button class="btn btn-primary" onclick="approveAll()">✅ Approve All Submitted</button>
                    <button class="btn btn-primary" onclick="exportTimesheet()">📋 Export Timesheet</button>
                </div>
            </div>
            
            <!-- Reports Grid -->
            <div class="reports-grid">
                <!-- Employee Status Report -->
                <div class="report-section">
                    <div class="report-header">
                        <div class="report-title">Employee Status</div>
                        <div class="report-subtitle">Current timecard submission status</div>
                    </div>
                    <div class="report-content">
                        <div class="employee-row header">
                            <div>Employee</div>
                            <div>Status</div>
                            <div>Hours</div>
                            <div>Pay</div>
                            <div>Action</div>
                        </div>
                        <div id="employeeStatusList">
                            <!-- Employee status rows will be generated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Hours Breakdown Report -->
                <div class="report-section">
                    <div class="report-header">
                        <div class="report-title">Hours Breakdown</div>
                        <div class="report-subtitle">Hours by category across all employees</div>
                    </div>
                    <div class="report-content">
                        <div id="hoursBreakdown">
                            <!-- Hours breakdown will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Detailed Employee Report -->
            <div class="detailed-report">
                <div class="report-header">
                    <div class="report-title">Detailed Employee Report</div>
                    <div class="report-subtitle">Individual breakdown for selected period</div>
                </div>
                <div class="detailed-report-content" id="detailedReport">
                    <!-- Detailed employee reports will be generated here -->
                </div>
                <div class="export-section">
                    <div>
                        <strong>Report Generated:</strong> <span id="reportTimestamp"></span>
                    </div>
                    <div>
                        <button class="btn" onclick="printReport()">🖨️ Print Report</button>
                        <button class="btn btn-success" onclick="exportToPDF()">📄 Export PDF</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data - In production, this would come from your database
        let employees = [
            {
                id: 'john-smith',
                name: 'John Smith',
                baseSalary: 5000,
                rates: {
                    revFlight: 450,
                    nonRevFlight: 350,
                    nonRevNonFlight: 300,
                    mxHourly: 45,
                    adminHourly: 35
                },
                status: 'submitted',
                currentWeekHours: {
                    revFlight: 3,
                    nonRevFlight: 2,
                    nonRevNonFlight: 1,
                    mx: 8,
                    admin: 4
                }
            },
            {
                id: 'sarah-johnson',
                name: 'Sarah Johnson',
                baseSalary: 0,
                rates: {
                    revFlight: 500,
                    nonRevFlight: 400,
                    nonRevNonFlight: 350,
                    mxHourly: 50,
                    adminHourly: 40
                },
                status: 'pending',
                currentWeekHours: {
                    revFlight: 4,
                    nonRevFlight: 1,
                    nonRevNonFlight: 2,
                    mx: 6,
                    admin: 3
                }
            },
            {
                id: 'mike-wilson',
                name: 'Mike Wilson',
                baseSalary: 4500,
                rates: {
                    revFlight: 425,
                    nonRevFlight: 325,
                    nonRevNonFlight: 275,
                    mxHourly: 42,
                    adminHourly: 32
                },
                status: 'submitted',
                currentWeekHours: {
                    revFlight: 2,
                    nonRevFlight: 3,
                    nonRevNonFlight: 1,
                    mx: 5,
                    admin: 7
                }
            },
            {
                id: 'lisa-roberts',
                name: 'Lisa Roberts',
                baseSalary: 5500,
                rates: {
                    revFlight: 475,
                    nonRevFlight: 375,
                    nonRevNonFlight: 325,
                    mxHourly: 48,
                    adminHourly: 38
                },
                status: 'overdue',
                currentWeekHours: {
                    revFlight: 5,
                    nonRevFlight: 0,
                    nonRevNonFlight: 1,
                    mx: 4,
                    admin: 2
                }
            }
        ];
        
        let categories = {
            revFlight: { name: 'Revenue Flight', type: 'daily' },
            nonRevFlight: { name: 'Non-Revenue Flight/EXC', type: 'daily' },
            nonRevNonFlight: { name: 'Non-Rev/Non-Flight', type: 'daily' },
            mx: { name: 'Maintenance', type: 'hourly' },
            admin: { name: 'Administrative', type: 'hourly' }
        };
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setDefaultDates();
            updateReports();
            updateTimestamp();
        });
        
        function setDefaultDates() {
            const today = new Date();
            const weekStart = new Date(today);
            const dayOfWeek = today.getDay();
            const daysToMonday = dayOfWeek === 0 ? -6 : 1 - dayOfWeek;
            weekStart.setDate(today.getDate() + daysToMonday);
            
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            
            document.getElementById('customStartDate').value = weekStart.toISOString().split('T')[0];
            document.getElementById('customEndDate').value = weekEnd.toISOString().split('T')[0];
        }
        
        function updateReports() {
            updateSummaryCards();
            updateEmployeeStatus();
            updateHoursBreakdown();
            updateDetailedReport();
            updateTimestamp();
        }
        
        function updateSummaryCards() {
            let totalPayroll = 0;
            let totalHours = 0;
            let activeEmployees = 0;
            
            employees.forEach(employee => {
                if (employee.status !== 'inactive') {
                    activeEmployees++;
                    
                    // Calculate pay
                    let employeePay = employee.baseSalary || 0;
                    const hours = employee.currentWeekHours;
                    
                    employeePay += hours.revFlight * employee.rates.revFlight;
                    employeePay += hours.nonRevFlight * employee.rates.nonRevFlight;
                    employeePay += hours.nonRevNonFlight * employee.rates.nonRevNonFlight;
                    employeePay += hours.mx * employee.rates.mxHourly;
                    employeePay += hours.admin * employee.rates.adminHourly;
                    
                    totalPayroll += employeePay;
                    
                    // Calculate hours
                    const employeeHours = Object.values(hours).reduce((sum, h) => sum + h, 0);
                    totalHours += employeeHours;
                }
            });
            
            const avgHours = activeEmployees > 0 ? totalHours / activeEmployees : 0;
            
            document.getElementById('totalPayroll').textContent = `$${totalPayroll.toFixed(2)}`;
            document.getElementById('totalHours').textContent = totalHours.toFixed(1);
            document.getElementById('activeEmployees').textContent = activeEmployees;
            document.getElementById('avgHours').textContent = avgHours.toFixed(1);
        }
        
        function updateEmployeeStatus() {
            const statusList = document.getElementById('employeeStatusList');
            
            statusList.innerHTML = employees.map(employee => {
                const hours = employee.currentWeekHours;
                const totalHours = Object.values(hours).reduce((sum, h) => sum + h, 0);
                
                let pay = employee.baseSalary || 0;
                pay += hours.revFlight * employee.rates.revFlight;
                pay += hours.nonRevFlight * employee.rates.nonRevFlight;
                pay += hours.nonRevNonFlight * employee.rates.nonRevNonFlight;
                pay += hours.mx * employee.rates.mxHourly;
                pay += hours.admin * employee.rates.adminHourly;
                
                return `
                    <div class="employee-row">
                        <div class="employee-name">${employee.name}</div>
                        <div><span class="employee-status status-${employee.status}">${employee.status.charAt(0).toUpperCase() + employee.status.slice(1)}</span></div>
                        <div>${totalHours.toFixed(1)}h</div>
                        <div>$${pay.toFixed(2)}</div>
                        <div>
                            <button class="btn" style="padding: 5px 10px; font-size: 12px;" onclick="viewEmployee('${employee.id}')">View</button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function updateHoursBreakdown() {
            const breakdown = document.getElementById('hoursBreakdown');
            
            let categoryTotals = {};
            Object.keys(categories).forEach(category => {
                categoryTotals[category] = 0;
            });
            
            employees.forEach(employee => {
                Object.entries(employee.currentWeekHours).forEach(([category, hours]) => {
                    categoryTotals[category] += hours;
                });
            });
            
            breakdown.innerHTML = Object.entries(categoryTotals).map(([category, total]) => `
                <div class="breakdown-item">
                    <div class="breakdown-label">${categories[category].name}</div>
                    <div class="breakdown-value">${total.toFixed(1)} hrs</div>
                    <div class="breakdown-rate">${categories[category].type}</div>
                </div>
            `).join('');
        }
        
        function updateDetailedReport() {
            const detailedReport = document.getElementById('detailedReport');
            
            detailedReport.innerHTML = employees.map(employee => {
                const hours = employee.currentWeekHours;
                const totalHours = Object.values(hours).reduce((sum, h) => sum + h, 0);
                
                let pay = employee.baseSalary || 0;
                let payBreakdown = [`Base Salary: $${employee.baseSalary || 0}`];
                
                Object.entries(hours).forEach(([category, categoryHours]) => {
                    if (categoryHours > 0) {
                        const rate = employee.rates[category + (categories[category].type === 'hourly' ? 'Hourly' : '')];
                        const categoryPay = categoryHours * rate;
                        pay += categoryPay;
                        payBreakdown.push(`${categories[category].name}: ${categoryHours}h × $${rate} = $${categoryPay.toFixed(2)}`);
                    }
                });
                
                return `
                    <div style="margin-bottom: 30px; padding: 20px; border: 1px solid #E2E8F0; border-radius: 10px;">
                        <h3 style="color: #1E293B; margin-bottom: 15px;">${employee.name}</h3>
                        <div class="pay-breakdown">
                            ${Object.entries(hours).map(([category, categoryHours]) => `
                                <div class="breakdown-item">
                                    <div class="breakdown-label">${categories[category].name}</div>
                                    <div class="breakdown-value">${categoryHours.toFixed(1)}h</div>
                                    <div class="breakdown-rate">$${employee.rates[category + (categories[category].type === 'hourly' ? 'Hourly' : '')]}/hr</div>
                                </div>
                            `).join('')}
                        </div>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid #E2E8F0;">
                            <strong>Total Hours: ${totalHours.toFixed(1)} | Total Pay: $${pay.toFixed(2)}</strong>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #64748B;">
                            ${payBreakdown.join(' | ')}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function updateTimestamp() {
            const now = new Date();
            document.getElementById('reportTimestamp').textContent = now.toLocaleString();
        }
        
        function generatePayrollReport() {
            showAlert('Generating comprehensive payroll report...', 'info');
            
            // In production, this would generate and download a payroll report
            setTimeout(() => {
                showAlert('Payroll report generated successfully! Check your downloads folder.', 'success');
            }, 2000);
        }
        
        function sendReminders() {
            const pendingEmployees = employees.filter(emp => emp.status === 'pending' || emp.status === 'overdue');
            
            if (pendingEmployees.length === 0) {
                showAlert('No reminders needed - all timecards are submitted!', 'info');
                return;
            }
            
            showAlert(`Sending timecard reminders to ${pendingEmployees.length} employees...`, 'info');
            
            // In production, this would send actual email reminders
            setTimeout(() => {
                showAlert(`Reminders sent to ${pendingEmployees.map(emp => emp.name).join(', ')}`, 'success');
            }, 1500);
        }
        
        function approveAll() {
            const submittedEmployees = employees.filter(emp => emp.status === 'submitted');
            
            if (submittedEmployees.length === 0) {
                showAlert('No submitted timecards to approve.', 'info');
                return;
            }
            
            if (confirm(`Approve timecards for ${submittedEmployees.length} employees?`)) {
                submittedEmployees.forEach(emp => emp.status = 'approved');
                updateReports();
                showAlert(`Approved timecards for ${submittedEmployees.length} employees.`, 'success');
            }
        }
        
        function exportTimesheet() {
            showAlert('Exporting timesheet data...', 'info');
            
            // In production, this would generate CSV/Excel export
            setTimeout(() => {
                showAlert('Timesheet exported successfully! Check your downloads folder.', 'success');
            }, 1500);
        }
        
        function exportReports() {
            showAlert('Preparing report export...', 'info');
            
            // In production, this would export all current reports
            setTimeout(() => {
                showAlert('Reports exported successfully!', 'success');
            }, 2000);
        }
        
        function exportToPDF() {
            showAlert('Generating PDF report...', 'info');
            
            // In production, this would generate a PDF
            setTimeout(() => {
                showAlert('PDF report generated successfully!', 'success');
            }, 2000);
        }
        
        function printReport() {
            window.print();
        }
        
        function viewEmployee(employeeId) {
            // In production, this would navigate to employee detail view
            showAlert(`Opening detailed view for employee ${employeeId}...`, 'info');
        }
        
        function showAlert(message, type) {
            // Remove existing alerts
            const existingAlerts = document.querySelectorAll('.alert');
            existingAlerts.forEach(alert => alert.remove());
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            const content = document.querySelector('.content');
            content.insertBefore(alertDiv, content.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }
        
        // Auto-refresh reports every 30 seconds
        setInterval(() => {
            updateReports();
        }, 30000);
        
        // Handle period change
        document.getElementById('reportPeriod').addEventListener('change', function() {
            const customDates = document.querySelectorAll('#customStartDate, #customEndDate');
            if (this.value === 'custom') {
                customDates.forEach(input => input.style.display = 'block');
            } else {
                customDates.forEach(input => input.style.display = 'none');
            }
        });
    </script>
</body>
</html>
